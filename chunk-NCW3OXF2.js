import{n as re,p as ne,q as se,r as ae,s as L,t as de,u as le,w as ce,y as pe}from"./chunk-BZQP3327.js";import{e as me}from"./chunk-3YSR4JFF.js";import{a as ue,c as ge,f as fe,h as Pe,k as he,l as Ce,m as _e,o as F}from"./chunk-P35TCHRP.js";import{g as ie,h as oe}from"./chunk-UGDYXJF4.js";import{$a as D,Aa as K,Ab as m,Bb as u,Cb as g,Da as l,Eb as Q,Fb as q,Gb as X,H as S,Hb as $,I as j,Ma as c,Nb as ee,Qb as E,Rb as te,U as V,Z as _,_a as w,a as f,b as B,bb as U,ca as z,cb as Z,da as H,db as P,eb as r,fb as n,gb as h,hb as G,ib as Y,ma as p,mb as J,pb as v,q as C,rb as b,v as M,xb as a,yb as T,zb as k}from"./chunk-TJPZ7RZT.js";var y=class o{fireStore=_(re);collectionRef=se(this.fireStore,"products");get(t){let e=L(this.collectionRef,t);return C(de(e)).pipe(M(d=>d.exists()?f({id:d.id},d.data()):void 0))}getAll(){let t=ce(this.collectionRef);return C(le(t)).pipe(M(i=>i.docs.map(d=>f({id:d.id},d.data()))))}create(t){return C(ne(this.collectionRef,t)).pipe(M(i=>f({id:i.id},t)))}delete(t){let e=L(this.collectionRef,t);return C(ae(e))}update(t,e){let i=L(this.collectionRef,t);return C(pe(i,e)).pipe(M(()=>f({id:t},e)))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=V({token:o,factory:o.\u0275fac,providedIn:"root"})};var N=class o{productService=_(y);isLoading=p(!0);error=p(null);product=p(void 0);ngOnInit(){this.productService.get("MhPKn9KcaaI1GDtI1Yfo").pipe(S(()=>this.isLoading.set(!1))).subscribe({next:t=>{this.product.set(t)},error:t=>{this.error.set("Failed to load")}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-product-details-page"]],decls:2,vars:0,template:function(e,i){e&1&&(G(0,"p"),a(1,"product-details-page works!"),Y())},encapsulation:2})};var O=class o{filters=te.required();filterOnChange(t,e){this.filters.update(i=>B(f({},i),{[t]:e}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-filter-component"]],inputs:{filters:[1,"filters"]},outputs:{filters:"filtersChange"},decls:39,vars:5,consts:[[1,"grid","grid-cols-1","md:grid-cols-4","gap-6","mb-10"],[1,"form-control"],[1,"label","text-sm","font-semibold","text-gray-700"],["type","text","placeholder","Search products...",1,"input","input-bordered","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],[1,"select","select-bordered","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],["value",""],["value","electronics"],["value","fashion"],["value","home"],["value","sports"],[1,"flex","gap-2"],["type","number","placeholder","Min",1,"input","input-bordered","w-1/2","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],["type","number","placeholder","Max",1,"input","input-bordered","w-1/2","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],["value","default"],["value","priceAsc"],["value","priceDesc"],["value","nameAsc"],["value","nameDesc"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"label",2),a(3,"Search"),n(),r(4,"input",3),g("ngModelChange",function(s){return u(i.filters().search,s)||(i.filters().search=s),s}),v("ngModelChange",function(s){return i.filterOnChange("search",s)}),n()(),r(5,"div",1)(6,"label",2),a(7,"Category"),n(),r(8,"select",4),g("ngModelChange",function(s){return u(i.filters().category,s)||(i.filters().category=s),s}),v("ngModelChange",function(s){return i.filterOnChange("category",s)}),r(9,"option",5),a(10,"All"),n(),r(11,"option",6),a(12,"Electronics"),n(),r(13,"option",7),a(14,"Fashion"),n(),r(15,"option",8),a(16,"Home & Living"),n(),r(17,"option",9),a(18,"Sports & Outdoors"),n()()(),r(19,"div",1)(20,"label",2),a(21,"Price Range"),n(),r(22,"div",10)(23,"input",11),g("ngModelChange",function(s){return u(i.filters().minPrice,s)||(i.filters().minPrice=s),s}),v("ngModelChange",function(s){return i.filterOnChange("minPrice",s)}),n(),r(24,"input",12),g("ngModelChange",function(s){return u(i.filters().maxPrice,s)||(i.filters().maxPrice=s),s}),v("ngModelChange",function(s){return i.filterOnChange("maxPrice",s)}),n()()(),r(25,"div",1)(26,"label",2),a(27,"Sort By"),n(),r(28,"select",4),g("ngModelChange",function(s){return u(i.filters().sort,s)||(i.filters().sort=s),s}),v("ngModelChange",function(s){return i.filterOnChange("sort",s)}),r(29,"option",13),a(30,"Default"),n(),r(31,"option",14),a(32,"Price: Low to High"),n(),r(33,"option",15),a(34,"Price: High to Low"),n(),r(35,"option",16),a(36,"Name: A-Z"),n(),r(37,"option",17),a(38,"Name: Z-A"),n()()()()),e&2&&(l(4),m("ngModel",i.filters().search),l(4),m("ngModel",i.filters().category),l(15),m("ngModel",i.filters().minPrice),l(),m("ngModel",i.filters().maxPrice),l(4),m("ngModel",i.filters().sort))},dependencies:[F,Ce,_e,ue,Pe,he,ge,fe],encapsulation:2})};var ve=o=>["/products",o],R=class o{product;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-item-component"]],inputs:{product:"product"},decls:15,vars:14,consts:[[1,"card","bg-gray-100","shadow-md"],[1,"h-48","w-full","object-cover",3,"src","alt"],[1,"card-body"],[1,"card-title","text-indigo-600","cursor-pointer",3,"routerLink"],[1,"text-sm","text-gray-600"],[1,"flex","justify-between","items-center","mt-4"],[1,"text-lg","font-bold","text-indigo-500"],[1,"btn","btn-sm","btn-primary"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"figure"),h(2,"img",1),n(),r(3,"div",2)(4,"h2",3),a(5),n(),r(6,"p",4),a(7),q(8,"slice"),n(),r(9,"div",5)(10,"span",6),a(11),q(12,"currency"),n(),r(13,"button",7),a(14,"Add to Cart"),n()()()()),e&2&&(l(2),P("src",i.product.image,K)("alt",i.product.title),l(2),P("routerLink",Q(12,ve,i.product.id)),l(),k(" ",i.product.title," "),l(2),k(" ",$(8,6,i.product.description,0,70),"... "),l(4),T(X(12,10,i.product.price)))},dependencies:[me,oe,ie],encapsulation:2})};var be=(o,t)=>t.id;function ye(o,t){if(o&1&&h(0,"app-products-item-component",1),o&2){let e=t.$implicit;P("product",e)}}function Me(o,t){o&1&&h(0,"div",3)(1,"div",4)(2,"div",4)(3,"div",4)(4,"div",4)(5,"div",4)(6,"div",4)}function xe(o,t){if(o&1&&(r(0,"div",2)(1,"div",5)(2,"span"),a(3),n()()()),o&2){let e=b(2);l(3),T(e.error())}}function Se(o,t){o&1&&(r(0,"div",2)(1,"div",6)(2,"span"),a(3,"No products found."),n()()())}function we(o,t){if(o&1&&w(0,Me,7,0)(1,xe,4,1,"div",2)(2,Se,4,0,"div",2),o&2){let e=b();D(e.isLoading()?0:e.error()?1:2)}}var W=class o{products=E.required();isLoading=E.required();error=E.required();onAddCart(){}onAddProduct(){}onDeleteProduct(t){}onUpdateProduct(t){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-list-component"]],inputs:{products:[1,"products"],isLoading:[1,"isLoading"],error:[1,"error"]},decls:4,vars:1,consts:[[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[3,"product"],[1,"col-span-full"],[1,"skeleton","h-15","col-span-full"],[1,"skeleton","h-80"],[1,"alert","alert-error"],[1,"alert","alert-info"]],template:function(e,i){e&1&&(r(0,"div",0),U(1,ye,1,1,"app-products-item-component",1,be,!1,we,3,1),n()),e&2&&(l(),Z(i.products()))},dependencies:[F,R],encapsulation:2})};function De(o,t){if(o&1){let e=J();r(0,"app-products-filter-component",6),g("filtersChange",function(d){z(e);let s=b();return u(s.filters,d)||(s.filters=d),H(d)}),n()}if(o&2){let e=b();m("filters",e.filters)}}var A=class o{productService=_(y);isLoading=p(!0);error=p(null);products=p([]);filters=p({search:"",category:"",minPrice:0,maxPrice:9999999,sort:"default"});filteredProducts=ee(()=>{let t=[...this.products()];switch(this.filters().search&&(t=t.filter(e=>e.title.toLowerCase().includes(this.filters().search.toLowerCase()))),this.filters().category&&(t=t.filter(e=>e.category===this.filters().category)),this.filters().minPrice!=null&&(t=t.filter(e=>e.price>=this.filters().minPrice)),this.filters().maxPrice!=null&&(t=t.filter(e=>e.price<=this.filters().maxPrice)),this.filters().sort){case"priceAsc":t.sort((e,i)=>e.price-i.price);break;case"priceDesc":t.sort((e,i)=>i.price-e.price);break;case"nameAsc":t.sort((e,i)=>e.title.localeCompare(i.title));break;case"nameDesc":t.sort((e,i)=>i.title.localeCompare(e.title));break}return t});ngOnInit(){this.productService.getAll().pipe(j(),S(()=>this.isLoading.set(!1))).subscribe({next:t=>{this.products.set(t)},error:t=>{this.error.set("Failed to load products"),console.error(t)}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-page"]],decls:8,vars:4,consts:[["id","products-page",1,"min-h-screen","p-6"],[1,"text-center","mb-10"],[1,"text-4xl","font-bold","text-white"],[1,"mt-2","text-gray-300","text-sm"],[3,"filters"],[3,"products","isLoading","error"],[3,"filtersChange","filters"]],template:function(e,i){e&1&&(r(0,"section",0)(1,"div",1)(2,"h2",2),a(3,"Explore Our Products"),n(),r(4,"p",3),a(5," Find the perfect item from our curated catalog "),n()(),w(6,De,1,1,"app-products-filter-component",4),h(7,"app-products-list-component",5),n()),e&2&&(l(6),D(!i.error()&&!i.isLoading()&&i.products().length>0?6:-1),l(),P("products",i.filteredProducts())("isLoading",i.isLoading())("error",i.error()))},dependencies:[W,O],encapsulation:2})};var pt=[{path:"",component:A,title:"Products"},{path:":id",component:N,title:"Product Details"}];export{pt as routes};
