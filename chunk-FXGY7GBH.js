import{a as de}from"./chunk-E5SN5UYZ.js";import"./chunk-ZTF5SZY5.js";import{d as te}from"./chunk-HE7D3WF3.js";import{a as ie,c as oe,f as re,h as ne,k as se,l as ae,m as le,o as D}from"./chunk-WD6R6NCK.js";import{g as $,h as ee}from"./chunk-IWLHRNUS.js";import{$a as x,Aa as q,Bb as G,Cb as O,Da as l,Db as Y,Eb as J,H as y,I as B,Kb as Q,Ma as c,Nb as w,Ob as X,U as j,Z as b,_a as M,a as A,b as k,bb as z,ca as V,cb as H,da as R,db as f,eb as r,fb as n,gb as P,hb as K,ib as U,kb as Z,ma as p,nb as h,pb as C,ub as a,vb as S,wb as W,xb as m,yb as u,zb as g}from"./chunk-GKUPRK5K.js";var _=class o extends de{constructor(){super("products")}static \u0275fac=function(e){return new(e||o)};static \u0275prov=j({token:o,factory:o.\u0275fac,providedIn:"root"})};var E=class o{productService=b(_);isLoading=p(!0);error=p(null);product=p(void 0);ngOnInit(){this.productService.get("MhPKn9KcaaI1GDtI1Yfo").pipe(y(()=>this.isLoading.set(!1))).subscribe({next:i=>{this.product.set(i)},error:i=>{this.error.set("Failed to load")}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-product-details-page"]],decls:2,vars:0,template:function(e,t){e&1&&(K(0,"p"),a(1,"product-details-page works!"),U())},encapsulation:2})};var F=class o{filters=X.required();filterOnChange(i,e){this.filters.update(t=>k(A({},t),{[i]:e}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-filter-component"]],inputs:{filters:[1,"filters"]},outputs:{filters:"filtersChange"},decls:39,vars:5,consts:[[1,"grid","grid-cols-1","md:grid-cols-4","gap-6","mb-10"],[1,"form-control"],[1,"label","text-sm","font-semibold","text-gray-700"],["type","text","placeholder","Search products...",1,"input","input-bordered","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],[1,"select","select-bordered","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],["value",""],["value","electronics"],["value","fashion"],["value","home"],["value","sports"],[1,"flex","gap-2"],["type","number","placeholder","Min",1,"input","input-bordered","w-1/2","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],["type","number","placeholder","Max",1,"input","input-bordered","w-1/2","bg-white","text-indigo-600","placeholder-indigo-400","border-indigo-300","shadow-sm",3,"ngModelChange","ngModel"],["value","default"],["value","priceAsc"],["value","priceDesc"],["value","nameAsc"],["value","nameDesc"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"label",2),a(3,"Search"),n(),r(4,"input",3),g("ngModelChange",function(s){return u(t.filters().search,s)||(t.filters().search=s),s}),h("ngModelChange",function(s){return t.filterOnChange("search",s)}),n()(),r(5,"div",1)(6,"label",2),a(7,"Category"),n(),r(8,"select",4),g("ngModelChange",function(s){return u(t.filters().category,s)||(t.filters().category=s),s}),h("ngModelChange",function(s){return t.filterOnChange("category",s)}),r(9,"option",5),a(10,"All"),n(),r(11,"option",6),a(12,"Electronics"),n(),r(13,"option",7),a(14,"Fashion"),n(),r(15,"option",8),a(16,"Home & Living"),n(),r(17,"option",9),a(18,"Sports & Outdoors"),n()()(),r(19,"div",1)(20,"label",2),a(21,"Price Range"),n(),r(22,"div",10)(23,"input",11),g("ngModelChange",function(s){return u(t.filters().minPrice,s)||(t.filters().minPrice=s),s}),h("ngModelChange",function(s){return t.filterOnChange("minPrice",s)}),n(),r(24,"input",12),g("ngModelChange",function(s){return u(t.filters().maxPrice,s)||(t.filters().maxPrice=s),s}),h("ngModelChange",function(s){return t.filterOnChange("maxPrice",s)}),n()()(),r(25,"div",1)(26,"label",2),a(27,"Sort By"),n(),r(28,"select",4),g("ngModelChange",function(s){return u(t.filters().sort,s)||(t.filters().sort=s),s}),h("ngModelChange",function(s){return t.filterOnChange("sort",s)}),r(29,"option",13),a(30,"Default"),n(),r(31,"option",14),a(32,"Price: Low to High"),n(),r(33,"option",15),a(34,"Price: High to Low"),n(),r(35,"option",16),a(36,"Name: A-Z"),n(),r(37,"option",17),a(38,"Name: Z-A"),n()()()()),e&2&&(l(4),m("ngModel",t.filters().search),l(4),m("ngModel",t.filters().category),l(15),m("ngModel",t.filters().minPrice),l(),m("ngModel",t.filters().maxPrice),l(4),m("ngModel",t.filters().sort))},dependencies:[D,ae,le,ie,ne,se,oe,re],encapsulation:2})};var ce=o=>["/products",o],T=class o{product;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-item-component"]],inputs:{product:"product"},decls:15,vars:14,consts:[[1,"card","bg-gray-100","shadow-md"],[1,"h-48","w-full","object-cover",3,"src","alt"],[1,"card-body"],[1,"card-title","text-indigo-600","cursor-pointer",3,"routerLink"],[1,"text-sm","text-gray-600"],[1,"flex","justify-between","items-center","mt-4"],[1,"text-lg","font-bold","text-indigo-500"],[1,"btn","btn-sm","btn-primary"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"figure"),P(2,"img",1),n(),r(3,"div",2)(4,"h2",3),a(5),n(),r(6,"p",4),a(7),O(8,"slice"),n(),r(9,"div",5)(10,"span",6),a(11),O(12,"currency"),n(),r(13,"button",7),a(14,"Add to Cart"),n()()()()),e&2&&(l(2),f("src",t.product.image,q)("alt",t.product.title),l(2),f("routerLink",G(12,ce,t.product.id)),l(),W(" ",t.product.title," "),l(2),W(" ",J(8,6,t.product.description,0,70),"... "),l(4),S(Y(12,10,t.product.price)))},dependencies:[te,ee,$],encapsulation:2})};var pe=(o,i)=>i.id;function me(o,i){if(o&1&&P(0,"app-products-item-component",1),o&2){let e=i.$implicit;f("product",e)}}function ue(o,i){o&1&&P(0,"div",3)(1,"div",4)(2,"div",4)(3,"div",4)(4,"div",4)(5,"div",4)(6,"div",4)}function ge(o,i){if(o&1&&(r(0,"div",2)(1,"div",5)(2,"span"),a(3),n()()()),o&2){let e=C(2);l(3),S(e.error())}}function fe(o,i){o&1&&(r(0,"div",2)(1,"div",6)(2,"span"),a(3,"No products found."),n()()())}function Pe(o,i){if(o&1&&M(0,ue,7,0)(1,ge,4,1,"div",2)(2,fe,4,0,"div",2),o&2){let e=C();x(e.isLoading()?0:e.error()?1:2)}}var N=class o{products=w.required();isLoading=w.required();error=w.required();onAddCart(){}onAddProduct(){}onDeleteProduct(i){}onUpdateProduct(i){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-list-component"]],inputs:{products:[1,"products"],isLoading:[1,"isLoading"],error:[1,"error"]},decls:4,vars:1,consts:[[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[3,"product"],[1,"col-span-full"],[1,"skeleton","h-15","col-span-full"],[1,"skeleton","h-80"],[1,"alert","alert-error"],[1,"alert","alert-info"]],template:function(e,t){e&1&&(r(0,"div",0),z(1,me,1,1,"app-products-item-component",1,pe,!1,Pe,3,1),n()),e&2&&(l(),H(t.products()))},dependencies:[D,T],encapsulation:2})};function he(o,i){if(o&1){let e=Z();r(0,"app-products-filter-component",6),g("filtersChange",function(d){V(e);let s=C();return u(s.filters,d)||(s.filters=d),R(d)}),n()}if(o&2){let e=C();m("filters",e.filters)}}var I=class o{productService=b(_);isLoading=p(!0);error=p(null);products=p([]);filters=p({search:"",category:"",minPrice:0,maxPrice:9999999,sort:"default"});filteredProducts=Q(()=>{let i=[...this.products()];switch(this.filters().search&&(i=i.filter(e=>e.title.toLowerCase().includes(this.filters().search.toLowerCase()))),this.filters().category&&(i=i.filter(e=>e.category===this.filters().category)),this.filters().minPrice!=null&&(i=i.filter(e=>e.price>=this.filters().minPrice)),this.filters().maxPrice!=null&&(i=i.filter(e=>e.price<=this.filters().maxPrice)),this.filters().sort){case"priceAsc":i.sort((e,t)=>e.price-t.price);break;case"priceDesc":i.sort((e,t)=>t.price-e.price);break;case"nameAsc":i.sort((e,t)=>e.title.localeCompare(t.title));break;case"nameDesc":i.sort((e,t)=>t.title.localeCompare(e.title));break}return i});ngOnInit(){this.productService.getAll().pipe(B(),y(()=>this.isLoading.set(!1))).subscribe({next:i=>{this.products.set(i)},error:i=>{this.error.set("Failed to load products"),console.error(i)}})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=c({type:o,selectors:[["app-products-page"]],decls:8,vars:4,consts:[["id","products-page",1,"min-h-screen","p-6"],[1,"text-center","mb-10"],[1,"text-4xl","font-bold","text-white"],[1,"mt-2","text-gray-300","text-sm"],[3,"filters"],[3,"products","isLoading","error"],[3,"filtersChange","filters"]],template:function(e,t){e&1&&(r(0,"section",0)(1,"div",1)(2,"h2",2),a(3,"Explore Our Products"),n(),r(4,"p",3),a(5," Find the perfect item from our curated catalog "),n()(),M(6,he,1,1,"app-products-filter-component",4),P(7,"app-products-list-component",5),n()),e&2&&(l(6),x(!t.error()&&!t.isLoading()&&t.products().length>0?6:-1),l(),f("products",t.filteredProducts())("isLoading",t.isLoading())("error",t.error()))},dependencies:[N,F],encapsulation:2})};var Je=[{path:"",component:I,title:"Products"},{path:":id",component:E,title:"Product Details"}];export{Je as routes};
