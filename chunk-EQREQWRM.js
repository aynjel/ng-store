import{b as G}from"./chunk-VS2QB7XP.js";import"./chunk-65WGCY4B.js";import{a as j,c as A,f as B,k as q,l as O,m as z,o as $}from"./chunk-XOMXMIMX.js";import{$a as b,Da as l,Gb as M,H as V,I as N,Jb as L,Kb as S,Ma as U,Vb as W,Z as D,_a as f,ab as k,bb as R,ca as m,cb as F,da as p,db as u,eb as i,fb as t,gb as _,kb as v,lb as g,ma as x,mb as c,rb as r,sb as C,tb as h,ub as w,vb as E,wb as T,zb as I}from"./chunk-MVS5HVBG.js";var K=(s,n)=>({"badge-success":s,"badge-error":n});function Q(s,n){if(s&1){let e=v();i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td")(8,"span",2),r(9),t()(),i(10,"td")(11,"span",3),r(12),t()(),i(13,"td")(14,"div",4)(15,"button",5),r(16," \u22EE "),t(),i(17,"ul",6)(18,"li")(19,"button",7),g("click",function(){let a=m(e).$implicit,d=c();return p(d.editUser.emit(a))}),r(20," Edit "),t()(),i(21,"li")(22,"button",8),g("click",function(){let a=m(e).$implicit,d=c();return p(d.deleteUser.emit(a))}),r(23," Delete "),t()()()()()()}if(s&2){let e=n.$implicit,o=n.$index;l(2),C(o+1),l(2),C(e.name),l(2),C(e.email),l(3),C(e.role),l(2),u("ngClass",I(6,K,e.active,!e.active)),l(),h(" ",e.active?"Active":"Inactive"," ")}}function X(s,n){s&1&&(i(0,"tr")(1,"td",9),_(2,"div",10),t()(),i(3,"tr")(4,"td",9),_(5,"div",10),t()(),i(6,"tr")(7,"td",9),_(8,"div",10),t()(),i(9,"tr")(10,"td",9),_(11,"div",10),t()(),i(12,"tr")(13,"td",9),_(14,"div",10),t()(),i(15,"tr")(16,"td",9),_(17,"div",10),t()(),i(18,"tr")(19,"td",9),_(20,"div",10),t()())}function Y(s,n){if(s&1&&(i(0,"tr")(1,"td",9)(2,"div",11)(3,"span"),r(4),t()()()()),s&2){let e=c(2);l(4),C(e.error())}}function Z(s,n){s&1&&(i(0,"tr")(1,"td",9)(2,"div",12)(3,"span"),r(4,"No users found."),t()()()())}function ee(s,n){if(s&1&&f(0,X,21,0)(1,Y,5,1,"tr")(2,Z,5,0,"tr"),s&2){let e=c();b(e.isLoading()?0:e.error()?1:2)}}var y=class s{users=S.required();isLoading=S.required();error=S.required();editUser=L();deleteUser=L();onEditUser(n){this.editUser.emit(n)}onDeleteUser(n){this.deleteUser.emit(n)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=U({type:s,selectors:[["app-users-list-component"]],inputs:{users:[1,"users"],isLoading:[1,"isLoading"],error:[1,"error"]},outputs:{editUser:"editUser",deleteUser:"deleteUser"},decls:20,vars:1,consts:[[1,"overflow-x-auto","min-h-[200px]"],[1,"table","w-full"],[1,"badge","badge-outline","badge-info"],[1,"badge",3,"ngClass"],[1,"dropdown","dropdown-end"],["tabindex","0","aria-label","Actions",1,"btn","btn-sm","btn-circle","btn-ghost"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow","bg-base-100","rounded-box","w-32"],[1,"justify-between",3,"click"],[1,"justify-between","text-error",3,"click"],["colspan","6"],[1,"skeleton","h-10","w-full"],[1,"alert","alert-error"],[1,"alert","alert-info"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),r(5,"#"),t(),i(6,"th"),r(7,"Name"),t(),i(8,"th"),r(9,"Email"),t(),i(10,"th"),r(11,"Role"),t(),i(12,"th"),r(13,"Status"),t(),i(14,"th"),r(15,"Actions"),t()()(),i(16,"tbody"),R(17,Q,24,9,"tr",null,k,!1,ee,3,1),t()()()),e&2&&(l(17),F(o.users()))},dependencies:[W],encapsulation:2})};function te(s,n){if(s&1){let e=v();i(0,"button",11),g("click",function(){m(e);let a=c(2);return p(a.clearSearch())}),r(1," \u2715 "),t()}}function ie(s,n){if(s&1){let e=v();i(0,"div",4)(1,"div",7)(2,"input",8),T("ngModelChange",function(a){m(e);let d=c();return E(d.searchTerm,a)||(d.searchTerm=a),p(a)}),g("ngModelChange",function(a){m(e);let d=c();return d.searchTerm.set(a),p(d.currentPage.set(1))}),t(),f(3,te,2,0,"button",9),t(),i(4,"button",10),g("click",function(){m(e);let a=c();return p(a.addUser())}),r(5,"Add User"),t()()}if(s&2){let e=c();l(2),w("ngModel",e.searchTerm),l(),b(e.searchTerm().length>0?3:-1)}}function ne(s,n){if(s&1){let e=v();i(0,"div",6)(1,"div",12)(2,"select",13),T("ngModelChange",function(a){m(e);let d=c();return E(d.itemsPerPage,a)||(d.itemsPerPage=a),p(a)}),g("ngModelChange",function(a){m(e);let d=c();return d.itemsPerPage.set(a),p(d.currentPage.set(1))}),i(3,"option",14),r(4,"5 per page"),t(),i(5,"option",14),r(6,"10 per page"),t(),i(7,"option",14),r(8,"20 per page"),t(),i(9,"option",14),r(10,"50 per page"),t(),i(11,"option",14),r(12,"100 per page"),t()(),i(13,"button",15),g("click",function(){m(e);let a=c();return p(a.prevPage())}),r(14," \xAB "),t(),i(15,"button",16),r(16),t(),i(17,"button",15),g("click",function(){m(e);let a=c();return p(a.nextPage())}),r(18," \xBB "),t()()()}if(s&2){let e=c();l(2),w("ngModel",e.itemsPerPage),l(),u("value",5),l(2),u("value",10),l(2),u("value",20),l(2),u("value",50),l(2),u("value",100),l(2),u("disabled",e.currentPage()===1),l(3),h("Page ",e.currentPage()),l(),u("disabled",e.paginatedUsers().length<e.itemsPerPage())}}var P=class s{userService=D(G);isLoading=x(!0);error=x(null);users=x([]);searchTerm=x("");currentPage=x(1);itemsPerPage=x(10);paginatedUsers=M(()=>{let n=(this.currentPage()-1)*this.itemsPerPage(),e=n+this.itemsPerPage();return this.users().slice(n,e)});filteredUsers=M(()=>{let n=this.searchTerm().toLowerCase();return this.paginatedUsers().filter(e=>e.name.toLowerCase().includes(n)||e.email.toLowerCase().includes(n)||e.role.toLowerCase().includes(n)||e.username.toLowerCase().includes(n))});ngOnInit(){this.userService.getAll().pipe(N(),V(()=>this.isLoading.set(!1))).subscribe({next:n=>{this.users.set(n)},error:n=>{this.error.set("Failed to load users. Please try again later."),console.error(n)}})}addUser(){}editUser(n){console.log("Edit user:",n)}deleteUser(n){console.log("Delete user:",n)}prevPage(){this.currentPage()>1&&this.currentPage.update(n=>n-1)}nextPage(){this.currentPage.update(n=>n+1)}clearSearch(){this.searchTerm.set(""),this.currentPage.set(1)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=U({type:s,selectors:[["app-users-page"]],decls:9,vars:5,consts:[["id","users-page",1,"min-h-screen","p-6"],[1,"text-center","mb-10"],[1,"text-4xl","font-bold","text-white"],[1,"mt-2","text-gray-300","text-sm"],[1,"mb-4","flex","items-center","gap-2"],[3,"editUser","deleteUser","users","isLoading","error"],[1,"mt-4","flex","justify-end"],[1,"relative","w-full","max-w-xs"],["type","text","placeholder","Search users...",1,"input","input-bordered","w-full","pr-10",3,"ngModelChange","ngModel"],["aria-label","Clear search",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600"],[1,"btn","btn-primary",3,"click"],["aria-label","Clear search",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600",3,"click"],[1,"join"],[1,"join-item","select","select-bordered",3,"ngModelChange","ngModel"],[3,"value"],[1,"join-item","btn",3,"click","disabled"],[1,"join-item","btn"]],template:function(e,o){e&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),r(3,"Manage Users"),t(),i(4,"p",3),r(5," View, add, edit, or remove users from the system. "),t()(),f(6,ie,6,2,"div",4),i(7,"app-users-list-component",5),g("editUser",function(d){return o.editUser(d)})("deleteUser",function(d){return o.deleteUser(d)}),t(),f(8,ne,19,9,"div",6),t()),e&2&&(l(6),b(!o.isLoading()&&!o.error()&&o.users().length>0?6:-1),l(),u("users",o.filteredUsers())("isLoading",o.isLoading())("error",o.error()),l(),b(!o.isLoading()&&!o.error()&&o.users().length>0?8:-1))},dependencies:[$,O,z,j,q,A,B,y],encapsulation:2})};var ve=[{path:"",component:P}];export{ve as routes};
