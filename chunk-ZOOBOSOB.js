import{a as Q}from"./chunk-E5SN5UYZ.js";import"./chunk-ZTF5SZY5.js";import{a as O,c as z,f as H,k as $,l as G,m as J,o as K}from"./chunk-WD6R6NCK.js";import{l as q}from"./chunk-IWLHRNUS.js";import{$a as U,Da as l,H as R,I as F,Kb as N,Ma as y,Mb as k,Nb as S,U as I,Z as h,_a as b,ab as j,bb as W,ca as u,cb as A,da as g,db as _,eb as c,fb as m,hb as s,ib as a,jb as x,kb as C,ma as f,nb as E,ob as M,pb as p,ub as n,vb as v,wb as B,xb as L,yb as V,zb as D}from"./chunk-GKUPRK5K.js";var P=class i extends Q{httpClient=h(q);constructor(){super("users")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function Z(i,t){if(i&1){let e=C();s(0,"tr")(1,"td"),n(2),a(),s(3,"td"),n(4),a(),s(5,"td"),n(6),a(),s(7,"td")(8,"span",2),n(9),a()(),s(10,"td")(11,"div",3)(12,"button",4),n(13," \u22EE "),a(),s(14,"ul",5)(15,"li")(16,"button",6),M("click",function(){let o=u(e).$implicit,d=p();return g(d.editUser.emit(o))}),n(17," Edit "),a()(),s(18,"li")(19,"button",7),M("click",function(){let o=u(e).$implicit,d=p();return g(d.deleteUser.emit(o))}),n(20," Delete "),a()()()()()()}if(i&2){let e=t.$implicit,r=t.$index;l(2),v(r+1),l(2),v(e.name),l(2),v(e.email),l(3),v(e.role)}}function ee(i,t){i&1&&(s(0,"tr")(1,"td",8),x(2,"div",9),a()(),s(3,"tr")(4,"td",8),x(5,"div",9),a()(),s(6,"tr")(7,"td",8),x(8,"div",9),a()(),s(9,"tr")(10,"td",8),x(11,"div",9),a()(),s(12,"tr")(13,"td",8),x(14,"div",9),a()(),s(15,"tr")(16,"td",8),x(17,"div",9),a()(),s(18,"tr")(19,"td",8),x(20,"div",9),a()())}function te(i,t){if(i&1&&(s(0,"tr")(1,"td",8)(2,"div",10)(3,"span"),n(4),a()()()()),i&2){let e=p(2);l(4),v(e.error())}}function ie(i,t){i&1&&(s(0,"tr")(1,"td",8)(2,"div",11)(3,"span"),n(4,"No users found."),a()()()())}function ne(i,t){if(i&1&&b(0,ee,21,0)(1,te,5,1,"tr")(2,ie,5,0,"tr"),i&2){let e=p();U(e.isLoading()?0:e.error()?1:2)}}var w=class i{users=S.required();isLoading=S.required();error=S.required();editUser=k();deleteUser=k();onEditUser(t){this.editUser.emit(t)}onDeleteUser(t){this.deleteUser.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-users-list-component"]],inputs:{users:[1,"users"],isLoading:[1,"isLoading"],error:[1,"error"]},outputs:{editUser:"editUser",deleteUser:"deleteUser"},decls:18,vars:1,consts:[[1,"overflow-x-auto","min-h-[200px]"],[1,"table","w-full"],[1,"badge","badge-outline","badge-info"],[1,"dropdown","dropdown-end"],["tabindex","0","aria-label","Actions",1,"btn","btn-sm","btn-circle","btn-ghost"],["tabindex","0",1,"dropdown-content","menu","p-2","shadow","bg-base-100","rounded-box","w-32"],[1,"justify-between",3,"click"],[1,"justify-between","text-error",3,"click"],["colspan","6"],[1,"skeleton","h-10","w-full"],[1,"alert","alert-error"],[1,"alert","alert-info"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),n(5,"#"),a(),s(6,"th"),n(7,"Name"),a(),s(8,"th"),n(9,"Email"),a(),s(10,"th"),n(11,"Role"),a(),s(12,"th"),n(13,"Actions"),a()()(),s(14,"tbody"),W(15,Z,21,4,"tr",null,j,!1,ne,3,1),a()()()),e&2&&(l(15),A(r.users()))},encapsulation:2})};function re(i,t){if(i&1){let e=C();c(0,"button",11),E("click",function(){u(e);let o=p(2);return g(o.clearSearch())}),n(1," \u2715 "),m()}}function oe(i,t){if(i&1){let e=C();c(0,"div",4)(1,"div",7)(2,"input",8),D("ngModelChange",function(o){u(e);let d=p();return V(d.searchTerm,o)||(d.searchTerm=o),g(o)}),E("ngModelChange",function(o){u(e);let d=p();return d.searchTerm.set(o),g(d.currentPage.set(1))}),m(),b(3,re,2,0,"button",9),m(),c(4,"button",10),E("click",function(){u(e);let o=p();return g(o.addUser())}),n(5,"Add User"),m()()}if(i&2){let e=p();l(2),L("ngModel",e.searchTerm),l(),U(e.searchTerm().length>0?3:-1)}}function se(i,t){if(i&1){let e=C();c(0,"div",6)(1,"div",12)(2,"select",13),D("ngModelChange",function(o){u(e);let d=p();return V(d.itemsPerPage,o)||(d.itemsPerPage=o),g(o)}),E("ngModelChange",function(o){u(e);let d=p();return d.itemsPerPage.set(o),g(d.currentPage.set(1))}),c(3,"option",14),n(4,"5 per page"),m(),c(5,"option",14),n(6,"10 per page"),m(),c(7,"option",14),n(8,"20 per page"),m(),c(9,"option",14),n(10,"50 per page"),m(),c(11,"option",14),n(12,"100 per page"),m()(),c(13,"button",15),E("click",function(){u(e);let o=p();return g(o.prevPage())}),n(14," \xAB "),m(),c(15,"button",16),n(16),m(),c(17,"button",15),E("click",function(){u(e);let o=p();return g(o.nextPage())}),n(18," \xBB "),m()()()}if(i&2){let e=p();l(2),L("ngModel",e.itemsPerPage),l(),_("value",5),l(2),_("value",10),l(2),_("value",20),l(2),_("value",50),l(2),_("value",100),l(2),_("disabled",e.currentPage()===1),l(3),B("Page ",e.currentPage()),l(),_("disabled",e.paginatedUsers().length<e.itemsPerPage())}}var T=class i{userService=h(P);isLoading=f(!0);error=f(null);users=f([]);searchTerm=f("");currentPage=f(1);itemsPerPage=f(10);paginatedUsers=N(()=>{let t=(this.currentPage()-1)*this.itemsPerPage(),e=t+this.itemsPerPage();return this.users().slice(t,e)});filteredUsers=N(()=>{let t=this.searchTerm().toLowerCase();return this.paginatedUsers().filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.role.toLowerCase().includes(t))});ngOnInit(){this.userService.getAll().pipe(F(),R(()=>this.isLoading.set(!1))).subscribe({next:t=>{this.users.set(t)},error:t=>{this.error.set("Failed to load users. Please try again later."),console.error(t)}})}addUser(){}editUser(t){console.log("Edit user:",t)}deleteUser(t){console.log("Delete user:",t)}prevPage(){this.currentPage()>1&&this.currentPage.update(t=>t-1)}nextPage(){this.currentPage.update(t=>t+1)}clearSearch(){this.searchTerm.set(""),this.currentPage.set(1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-users-page"]],decls:9,vars:5,consts:[["id","users-page",1,"min-h-screen","p-6"],[1,"text-center","mb-10"],[1,"text-4xl","font-bold","text-white"],[1,"mt-2","text-gray-300","text-sm"],[1,"mb-4","flex","items-center","gap-2"],[3,"editUser","deleteUser","users","isLoading","error"],[1,"mt-4","flex","justify-end"],[1,"relative","w-full","max-w-xs"],["type","text","placeholder","Search users...",1,"input","input-bordered","w-full","pr-10",3,"ngModelChange","ngModel"],["aria-label","Clear search",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600"],[1,"btn","btn-primary",3,"click"],["aria-label","Clear search",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600",3,"click"],[1,"join"],[1,"join-item","select","select-bordered",3,"ngModelChange","ngModel"],[3,"value"],[1,"join-item","btn",3,"click","disabled"],[1,"join-item","btn"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"h2",2),n(3,"Manage Users"),m(),c(4,"p",3),n(5," View, add, edit, or remove users from the system. "),m()(),b(6,oe,6,2,"div",4),c(7,"app-users-list-component",5),E("editUser",function(d){return r.editUser(d)})("deleteUser",function(d){return r.deleteUser(d)}),m(),b(8,se,19,9,"div",6),m()),e&2&&(l(6),U(!r.isLoading()&&!r.error()&&r.users().length>0?6:-1),l(),_("users",r.filteredUsers())("isLoading",r.isLoading())("error",r.error()),l(),U(!r.isLoading()&&!r.error()&&r.users().length>0?8:-1))},dependencies:[K,G,J,O,$,z,H,w],encapsulation:2})};var Pe=[{path:"",component:T}];export{Pe as routes};
