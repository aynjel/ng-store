import{a as C}from"./chunk-7TD4XGKB.js";import{A as b,h as I,k as m,n as l,o as g,t as k,w as u,xa as v,za as x}from"./chunk-OUXMU6IP.js";var D=(()=>{let o=class o{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=v(this.platformId)}static getCookieRegExp(e){let t=e.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),o.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.check(e)){e=encodeURIComponent(e);let i=o.getCookieRegExp(e).exec(this.document.cookie);return i?.[1]?o.safeDecodeURIComponent(i[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},t=this.document;return t.cookie&&t.cookie!==""&&t.cookie.split(";").forEach(i=>{let[a,c]=i.split("=");e[o.safeDecodeURIComponent(a.replace(/^ /,""))]=o.safeDecodeURIComponent(c)}),e}set(e,t,i,a,c,f,h,y){if(!this.documentIsAccessible)return;if(typeof i=="number"||i instanceof Date||a||c||f||h){let d={expires:i,path:a,domain:c,secure:f,sameSite:h||"Lax",partitioned:y};this.set(e,t,d);return}let p=encodeURIComponent(e)+"="+encodeURIComponent(t)+";",s=i||{};if(s.expires)if(typeof s.expires=="number"){let d=new Date(new Date().getTime()+s.expires*1e3*60*60*24);p+="expires="+d.toUTCString()+";"}else p+="expires="+s.expires.toUTCString()+";";s.path&&(p+="path="+s.path+";"),s.domain&&(p+="domain="+s.domain+";"),s.secure===!1&&s.sameSite==="None"&&(s.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),s.secure&&(p+="secure;"),s.sameSite||(s.sameSite="Lax"),p+="sameSite="+s.sameSite+";",s.partitioned&&(p+="Partitioned;"),this.document.cookie=p}delete(e,t,i,a,c="Lax"){if(!this.documentIsAccessible)return;let f=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:f,path:t,domain:i,secure:a,sameSite:c})}deleteAll(e,t,i,a="Lax"){if(!this.documentIsAccessible)return;let c=this.getAll();for(let f in c)c.hasOwnProperty(f)&&this.delete(f,e,t,i,a)}};o.\u0275fac=function(t){return new(t||o)(l(k),l(b))},o.\u0275prov=m({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var w=class n{httpClient=g(x);cookieService=g(D);isLoggedIn=u(!1);login(o){return this.httpClient.post(C.baseApiUrl+"auth/login",o).pipe(I(r=>{this.cookieService.set("token",r.token),this.isLoggedIn.set(!0)}))}retrieveUserAccount(){this.cookieService.get("token")&&this.isLoggedIn.set(!0)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})};var L=class n{toasts=u([]);counter=0;show(o,r="info",e=3e3){let t=this.counter++,i={id:t,message:o,type:r,duration:e};this.toasts.set([...this.toasts(),i]),e>0&&setTimeout(()=>this.remove(t),e)}remove(o){this.toasts.set(this.toasts().filter(r=>r.id!==o))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=m({token:n,factory:n.\u0275fac,providedIn:"root"})};export{D as a,w as b,L as c};
